# bebop-wizard - Debian Package

A comprehensive tool for managing simple be-BOP deployments.

## Building the Package

### Prerequisites

Install the required build dependencies:

```bash
sudo apt-get update
sudo apt-get install devscripts debhelper dh-make lintian
```

### Build Commands

```bash
# Build the package
make build

# Clean build artifacts
make clean

# Check build dependencies
make check-deps
```

### Build Output

The package will be created in the parent directory. (e.g.
`../bebop-wizard_0.1.0-1_all.deb`)

## Installation

### From Built Package

```bash
# Install the package
sudo apt install ../bebop-wizard_0.1.0-1_all.deb
```

### Using Make

```bash
# Build and install in one step
make install
```

## Package Structure

Use `dpkg -S bebop-wizard` to see the files installed by the package.

A few files are generated by the maintainer scripts; these are installed using
`ucf(1)`; ucf tracks these files in `/var/lib/ucf/hashfile`.

## Usage

After installation, the package is configured using debconf. To make changes or
reconfigure:

```bash
# Reconfigure the package (interactive prompts)
sudo dpkg-reconfigure bebop-wizard

# Reconfigure with detailed interface
sudo dpkg-reconfigure -plow bebop-wizard

# Non-interactive reconfiguration (uses current values)
sudo dpkg-reconfigure -fnoninteractive bebop-wizard

# Configure the package prior to its installation
sudo dpkg-preconfigure ../bebop-wizard_0.1.0-1_all.deb
```

## Security Features

The following features are used to promote best-practices and resonably secure
deployments; mind that some of these mechanisms are unsupported by some
virtualization environments (such as namespace-based containers).

- **Dynamic Users** - Ephemeral users created by systemd
- **Minimal Privileges** - `NoNewPrivileges=yes`
- **Filesystem Protection** - `ProtectSystem=strict`, `ProtectHome=yes`
- **Process Isolation** - `PrivateTmp=yes`, restricted namespaces
- **Network Restrictions** - Limited address families

## Development

### Package Testing

```bash
# Test build configuration
make test-build

# build package
make build

# “Quick” build (only after “make build” has run and no big changes)
make dev-build

# Lint the package
make lint

# Show package info
make info
```

### Debugging

```bash
# Check debconf values
sudo debconf-show bebop-wizard
```
